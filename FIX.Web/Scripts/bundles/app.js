!function(t){Number.prototype.format=function(t,r,i){var a=isNaN(this)?0:this,t=isNaN(t=Math.abs(t))?2:t,r=void 0==r?".":r,i=void 0==i?",":i,s=a<0?"-":"",e=String(parseInt(a=Math.abs(Number(a)||0).toFixed(t))),o=(o=e.length)>3?o%3:0;return s+(o?e.substr(0,o)+i:"")+e.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?r+Math.abs(a-e).toFixed(t).slice(2):"")},String.prototype.format=function(t,r,i){var a=Number(this);isNaN(this);return a.format(t,r,i)}}(jQuery);
$(function(){$.fn.select2&&$(".searchable-dropdown").select2(),$.fn.datepicker&&($.fn.datepicker.defaults.format="dd-M-yyyy",$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.startDate="-5y",$.fn.datepicker.defaults.endDate="+5y",$.fn.datepicker.defaults.maxViewMode=2,$.fn.datepicker.defaults.orientation="bottom",$(".datepicker").datepicker());var e=$("input.num, input.dec, input.int");e.on("focus",function(e){$(this).select()}),e.on("change",function(e){var t=$(this),a=0,n=Number(t.val());isNaN(n)||(a=n),t.val(a.format()),t.valid()}),$("form").each(function(){var e=$(this).data("validator");e&&$(e).each(function(){this.settings.onkeyup=!1})}),e.each(function(){$(this).trigger("change")})});
!function(o){var n,t,e,i;o.fn.modalCreator=function(d){function a(){t.removeClass(n.confirmButtonStyle),t.prop("disabled",!1)}function r(){t.html(n.confirmText),e.html(n.header),i.html(n.body),t.addClass(n.confirmButtonStyle),l.off().on("click",".btn-ok",f).on("click",".btn-ok",n.onConfirm)}function f(){t.prop("disabled",!0)}var l=o(this),c=l.attr("id");return n=o.extend({},o.fn.modalCreator.defaults,d),this.make=function(t){n=o.extend({},n,t),r()},this.show=function(){l.modal("show")},this.hide=function(){a(),l.modal("hide")},l.on("hidden.bs.modal",function(){a()}),function(){o.ajax({type:"GET",url:GetPath("htmlloader/modal"),success:function(n){l.append(n),l.appendTo("body");var d=l.find(".modal");l=o(d),l.attr("id",c),t=l.find(".btn-ok")||{},e=l.find(".modal-title")||{},i=l.find(".modal-body")||{}}})}(),this},o.fn.modalCreator.defaults={header:"Confirmation",body:"Are you sure you want to proceed?",confirmText:"Confirm",confirmButtonStyle:"btn-success",closeText:"Close",onConfirm:function(){}}}(jQuery);
function LinkFormatter(t,a,n){var r="";return t.forEach(function(t){r+="<a class='btn btn-actionlink' href='"+t.Url+"'>"+t.Name+"</a>"}),r}function actionFormatter(t,a,n){var r="";return t.forEach(function(t){r+="<a class='btn btn-actionlink action' data-action='"+t.Action+"'>"+t.Name+"</a>"}),r}function percentageFormatter(t,a,n){return(100*t).format()+"%"}function currencyFormatter(t,a,n){return t.format()}$(document).ready(function(){$("table[data-search-placeholder]").each(function(){$(this).parents("div.bootstrap-table").find("input[placeholder='Search']").attr("placeholder",$(this).data("search-placeholder"))})});
$(function(){function e(){o.addClass("responsive-sidebar"),o.addClass("responsive"),r.addClass("dim")}function t(){o.removeClass("responsive"),o.removeClass("responsive-sidebar"),r.removeClass("dim")}function a(e){var t=e.targetTouches[0].clientY-d;0===u.scrollTop&&t>0&&e.preventDefault(),s()&&t<0&&e.preventDefault()}function s(){return u.scrollHeight-u.scrollTop<=u.clientHeight}var n=$(".navbar-toggle"),o=$("."+n.attr("data-target")),r=$("."+n.attr("data-dim-target")),l=$(".body-canvas");$("form").addClass("form-horizontal"),$(window).resize(function(){$(window).width()>767&&t()}),l.on("click",function(){t()}),n.click(function(){o.hasClass("responsive")?t():e()});var i=$(".nav-menu.has-child"),c=$(".nav-menu.has-child .sidebar-subnav");i.click(function(){$(this).toggleClass("expanding"),c.toggleClass("show")});var u=document.getElementsByClassName("scrollable")[0],d=null;if(u){u.addEventListener("touchstart",function(e){1===e.targetTouches.length&&(d=e.targetTouches[0].clientY)},!1),u.addEventListener("touchmove",function(e){1===e.targetTouches.length&&a(e)},!1),$('input[data-val="true"], select[data-val="true"]').closest(".form-group").children("label").addClass("required-field");if("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)try{for(var v in document.styleSheets){var h=document.styleSheets[v];if(h.rules)for(var m=h.rules.length-1;m>=0;m--)h.rules[m].selectorText&&h.rules[m].selectorText.match(":hover")&&h.deleteRule(m)}}catch(e){}}});
